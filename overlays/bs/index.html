<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" type="text/css" href="reset.css">
	<link rel="stylesheet" type="text/css" href="vars.css">
	<link rel="stylesheet" type="text/css" href="main.css">
	<link rel="stylesheet" type="text/css" href="fonts.css">

	<link rel="stylesheet" type="text/css" href="fontawesome-free-6.5.1-web/css/all.min.css">

	<script defer type="text/javascript" src="jquery-3.7.1.min.js"></script>
	<script defer type="text/javascript" src="jquery.marquee.min.js"></script>
	<script defer type="text/javascript" src="vibrant.min.js"></script>
</head>

<body>
	<div id="wrapper">
		<div class="cell" id="miscInfoCell">
			<div id="diffWrap" style="display: none;">
				<div id="diffIcon"></div>
				<div id="diff">Expert+</div>
			</div>

			<div id="codeWrap" style="display: none;">
				<div>!bsr </div><div id="bsrCode">1ad3b</div>
			</div>

			<div id="ssStarsWrap" style="display: none;">
				<img class="ppIcon" src="icons/ss_logo.svg">
				<i class="fas fa-star fa-fw"></i>
				<div id="ssStarsValue">4.53</div>
			</div>

			<div id="blStarsWrap" style="display: none;">
				<img class="ppIcon" src="icons/bl_logo.png">
				<i class="fas fa-star fa-fw"></i>
				<div id="blStarsValue">5.81</div>
			</div>

			<div id="timeWrap">
				<i class="fas fa-clock fa-fw"></i>
				<span id="time">0:00</span>
				<span id="duration">0:00</span>
			</div>
		</div>

		<div class="cell" id="qrCell">
			<div id="qrWrapper" class="showBoxShadow">
				<img id="qr"/>
			</div>
		</div>

		<div class="cell" id="artCell">
			<div id="artWrapper">
				<div id="artOutline">
					<div class="artContainer"></div>
				</div>
				<div id="artBG" class="showBoxShadow">
					<div class="artContainer"></div>
				</div>
				<img id="art" src="placeholder.png"/>
			</div>
		</div>

		<div class="cell" id="metadataCell">
			<div id="title">
				<span id="titleString">Song Title</span>
			</div>
			<div id="secondaryWrap">
				<div id="secondary">
					<div id="artist">Song Artist</div>
					<div id="mapperContainer">
						<div class="mapper">Map Author</div>
					</div>
				</div>
			</div>
		</div>

		<div class="cell" id="hitMissCell">
			<div id="hitCell">
				<i class="fa-fw fas fa-check"></i>
				<span id="hitValue">0</span>
			</div>

			<div id="FCCell">
				<i class="fa-fw fas fa-star"></i>
				<span>FC</span>
			</div>

			<div id="missCell">
				<i class="fa-fw fas fa-times"></i>
				<span id="missValue">0</span>
			</div>
		</div>

		<div class="cell" id="accCell">
			<div id="fcAccWrap" style="display: none;">
				<span id="fcAccHead">FC</span><span id="fcAcc">97.81</span>
			</div>
			<div id="comboWrap">
				<i class="fa-fw fas fa-link"></i>
				<span id="combo">0</span>
			</div>

			<div id="accWrap">
				<span id="acc">97.81</span><span id="accPerc">%</span>
			</div>
		</div>

		<div class="cell" id="ppCell">
			<div id="ssCell">
				<img class="ppIcon" src="icons/ss_logo.svg"/>
				<span id="ssValue">0.0</span>
			</div>
			<div id="blCell">
				<img class="ppIcon" src="icons/bl_logo.png"/>
				<span id="blValue">0.0</span>
			</div>
		</div>

		<div class="cell" id="handValueCell">
			<div class="handCellContainer" id="handValueCellLeft">
				<div class="preSwingCell" id="preSwingCellLeft">70.0</div>
				<div class="postSwingCell" id="postSwingCellLeft">30.0</div>
				<div class="swingAccuracyCell" id="swingAccuracyCellLeft">15.0</div>
			</div>
			<div class="handCellContainer" id="handValueCellRight">
				<div class="preSwingCell" id="preSwingCellRight">70.0</div>
				<div class="postSwingCell" id="postSwingCellRight">30.0</div>
				<div class="swingAccuracyCell" id="swingAccuracyCellRight">15.0</div>
			</div>
		</div>

		<div id="bgWrapper">
			<div id="artBGWrap">
				<div class="artContainer"></div>
			</div>
		</div>

		<img id="artDoppleganger" src="placeholder.png"/>
	</div>

	<div id="filterWrapper">
		<svg xmlns="http://www.w3.org/2000/svg">
			<filter id="outlineEffect" color-interpolation-filters="sRGB">
				<feConvolveMatrix in="SourceAlpha" result="OutlineAlpha" divisor="1" order="1,1" kernelMatrix="1"/>
				<feFlood flood-color="var(--overlayOutlineColor)" result="OutlineColor" />
				<feComposite in="OutlineColor" in2="OutlineAlpha" operator="in" result="Outline" />

				<feMerge>
					<feMergeNode in="Outline"/>
					<feMergeNode in="SourceGraphic"/>
				</feMerge>
			</filter>

			<filter id="shadowEffect" color-interpolation-filters="sRGB">
				<feDropShadow dx="0" dy="1" stdDeviation="2" flood-color="var(--overlayShadowColor)"/>
			</filter>

			<filter id="handsFlashEffectLeft" color-interpolation-filters="sRGB">
				<feDropShadow dx="0" dy="0" stdDeviation="2" flood-color="var(--handsLeftColor)"/>
				<feComponentTransfer>
					<feFuncR type="linear" slope="1" intercept="0.1"></feFuncR>
					<feFuncG type="linear" slope="1" intercept="0.1"></feFuncG>
					<feFuncB type="linear" slope="1" intercept="0.1"></feFuncB>
				</feComponentTransfer>
			</filter>
			<filter id="handsFlashEffectRight" color-interpolation-filters="sRGB">
				<feDropShadow dx="0" dy="0" stdDeviation="2" flood-color="var(--handsRightColor)"/>
				<feComponentTransfer>
					<feFuncR type="linear" slope="1" intercept="0.1"></feFuncR>
					<feFuncG type="linear" slope="1" intercept="0.1"></feFuncG>
					<feFuncB type="linear" slope="1" intercept="0.1"></feFuncB>
				</feComponentTransfer>
			</filter>

			<filter id="blankEffect"></filter>
		</svg>
	</div>

	<script defer type="text/javascript" src="funcs.js"></script>
	<script defer type="text/javascript" src="settings.js"></script>
	<script defer type="text/javascript" src="main.js"></script>
	<script defer type="text/javascript" src="broadcast.js"></script>
	<script defer type="text/javascript" src="rankpp.js"></script>
	<script type="text/javascript">
		window.addEventListener("load", async function() {
			await getCurveData();
			changeMiscInfoDisplay();

			postToSettingsEventChannel("BSStatsOverlayExists", {version: overlayRevision});
			rootCSS().setProperty("--background-art-height", `${$("#wrapper").outerHeight(true)}px`);
		});
	</script>
</body>

</html>